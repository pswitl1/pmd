<!-- Argument summary: -->

<!-- tags: tag determining the pages included in the panel -->
<!-- title: Display title of the panel -->
<!-- description: Description of the panel -->
<!-- image (optional) : Name of the image to use, as a css class, eg "fa-list" -->
<!-- titlemaker (optional) : name of a variable that's evaluated to determine the displayed title of the page. Default is page.title -->


{% capture titlemaker %} {{ include.titlemaker | default: "page.title" }} {% endcapture %}

<div class="col-xs-6 col-sm-4 col-md-4" data-groups='{{ include.datagroups }}'>
    <div class="panel panel-default">


        {% if include.image != "" and include.image != nil %}
            <div class="panel-heading text-center">
                     <span class="fa-stack fa-5x">
                       <i class="fa fa-circle fa-stack-2x text-secondary"></i>
                       <i class="fa {{ include.image }} fa-stack-1x fa-inverse"></i>
                     </span>
            </div>
        {% endif %}

        <div class="panel-heading text-center">{{ include.title }}</div>
        <div class="panel-body">

            <p class="landing-page cat-description">
                {{ include.description }}
            </p>
            <ul>
                {% for page in site.pages %}
                    {% capture alltags %}{{ page.tags | contains_all: include.tags }}{% endcapture %}
                    <!-- ugly, but one can only capture string values -->
                    {% if alltags contains "true" %}
                        <li><a href="{{page.url | remove: '/'}}">{% eval titlemaker %}</a></li>
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    </div>
</div>